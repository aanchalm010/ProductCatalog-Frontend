<div class="container">
  <h2>{{ id ? 'Edit Product' : 'Create Product' }}</h2>

  <form [formGroup]="form" (ngSubmit)="save()">
    <!-- Name -->
    <div>
      <label>Name</label>
      <input formControlName="name" />
      <div *ngIf="form.get('name')?.invalid && form.get('name')?.touched">
        Name is required.
      </div>
    </div>

    <!-- Price -->
    <div>
      <label>Price</label>
      <input type="number" formControlName="price" />
      <div *ngIf="form.get('price')?.invalid && form.get('price')?.touched">
        Price must be > 0.
      </div>
    </div>

    <!-- Existing Image (edit mode only) -->
    <div *ngIf="id && formImageUrl" style="margin: 12px 0;">
      <img [src]="formImageUrl" alt="Product Image" width="150" />
      <button mat-button color="warn" type="button" (click)="removeImage()">
        ðŸ—‘ Remove Image
      </button>
    </div>

    <!-- Buttons -->
    <div style="margin-top:12px;">
      <button mat-raised-button color="primary" type="submit">
        {{ id ? 'Update' : 'Create' }}
      </button>
      <button mat-button type="button" (click)="cancel()">Cancel</button>
    </div>
  </form>
</div>
